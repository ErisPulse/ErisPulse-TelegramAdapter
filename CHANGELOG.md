# 更新日志

所有版本更新遵循 [语义化版本控制](https://semver.org/lang/zh-CN/) 规范。

> **如何阅读本日志**
> 每个版本分为 "新增"/"变更"/"修复"/"移除"/"废弃" 等部分。建议开发者在升级前先阅读对应版本的 Breaking Change 和修复内容。

> **贡献日志**
> 如需为新版本添加日志，请在对应版本号下补充内容，并注明日期和主要贡献者。

---

## 规则

### 必须包含的信息
1. **贡献者信息**：每项变更必须标明贡献者，格式为 `@Github用户名`
2. **变更类型**：明确标识变更类型（新增/变更/修复/移除/废弃等）
3. **日期信息**：版本发布日期采用 `YYYY/MM/DD` 格式

### 示例格式

```markdown
## [version] - 2025/08/20
> 开发版本

### 新增

- By [贡献者](https://github.com/贡献者)
  - `模块名` 模块新增功能描述：
    - 具体功能点1
    - 具体功能点2
```

---

## [3.5.0] - 2026/02/12

### 新增

- By @wsu2059q
  - **消息发送功能增强**
    - 媒体发送方法（Image、Video、Voice、Audio、File）现在支持 URL 和 bytes 两种输入方式
    - 新增链式修饰方法：`At(user_id)`、`AtAll()`、`Reply(message_id)`
    - 实现大小写不敏感的方法名调用，通过映射表自动转换
    - 新增 `Raw_ob12` 方法，支持 OneBot12 标准格式的组合消息发送
    - 新增 `Raw_json` 方法，支持原始 JSON 格式消息发送
    - 调用不支持的发送方法时会自动发送文本提示

- By @wsu2059q
  - **Raw_ob12 消息解析逻辑重构**
    - 支持复杂组合消息（文本 + @用户 + 回复 + 媒体）
    - 支持 OneBot12 标准的 `mention` 和 `reply` 消息段类型
    - 自动将文本内容作为媒体消息的 caption
    - 消息段中的 `reply` 优先级高于链式修饰符 `Reply()`
    - 支持用户 ID 和用户名两种 @ 方式（自动生成 `text_mention` 或 `mention` 实体）

### 变更

- By @wsu2059q
  - **运行模式变更**
    - 移除 Webhook 模式支持，仅保留 Polling（轮询）模式
    - 检测到旧版 Webhook 配置时会发出错误日志并自动切换到 Polling 模式

- By @wsu2059q
  - **配置项简化**
    - 移除 `mode` 配置项（不再支持）
    - 移除 `webhook` 相关配置项（不再支持）
    - 保留 `token`、`proxy_enabled` 和 `proxy` 配置项

### 修复

- By @wsu2059q
  - 修复 `parse_mode=None` 参数导致 Telegram API 调用失败的问题
  - 修复回复消息 ID 未转换为整数类型的问题
  - 修复组合消息中文本内容被忽略的问题
  - 修复 @ 用户 ID 时无法生成可点击链接的问题

## [3.4.0] - 2025/08/21

### 变更
- 向 `convert` 模块添加 `telegram_raw_type` 字段
- 删除提交原始数据的接口（交由ErisPulse处理原生事件分发）
